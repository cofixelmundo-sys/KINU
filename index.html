<!DOCTYPE html>
<html lang="es">
<head>
    <style>
        /* ... (Tus estilos anteriores se mantienen igual) ... */

        /* Ajuste de animación de pulso para que sea más visible sobre el fondo oscuro */
        .camara-pulso { 
            animation: pulso-verde-intenso 1.5s infinite; 
            z-index: 6000 !important; /* Por encima del popup que tiene 5000 */
            position: relative;
        }

        @keyframes pulso-verde-intenso {
            0% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.8); } /* Pulso blanco/claro para que resalte sobre el oscuro */
            70% { box-shadow: 0 0 0 20px rgba(255, 255, 255, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0); }
        }

        /* Aseguramos que el nav-item padre no corte el pulso */
        .nav-item { position: relative; }
    </style>
</head>
<body oncontextmenu="return false;">

<script>
    /* ... (Variables y funciones de carga se mantienen igual) ... */

    function manejarBotonAgregar() { 
        if (!botonListo) {
            // 1. Mostramos el popup
            document.getElementById('popup-recordatorio-camara').style.display = 'flex';
            
            // 2. Activamos el pulso
            const circuloCamara = document.getElementById('circulo-camara');
            circuloCamara.classList.add('camara-pulso');
            
            // 3. Elevamos el nav para que esté sobre la sombra
            document.querySelector('nav').style.zIndex = "6000";
        } else {
            subirPrendaFinal(); 
        }
    }

    function cerrarRecordatorio() {
        document.getElementById('popup-recordatorio-camara').style.display = 'none';
        
        // Quitamos el pulso
        const circuloCamara = document.getElementById('circulo-camara');
        circuloCamara.classList.remove('camara-pulso');
        
        // Devolvemos el nav a su nivel original
        document.querySelector('nav').style.zIndex = "100";
    }

    // También nos aseguramos que si abre la cámara, se limpie el efecto
    function abrirEditor(file) { 
        if (!file) return; 
        cerrarRecordatorio(); // Limpia pulso y z-index si el usuario hace clic en la cámara
        sessionStorage.setItem('temp_img_url', URL.createObjectURL(file)); 
        document.getElementById('iframe-ia').src = 'photo_studio.html'; 
        document.getElementById('modal-ia').style.display = 'flex'; 
    }

    /* ... (El resto del script se mantiene igual) ... */
</script>
</body>
</html>
